<head>
    <title>remote-app</title>
    <meta charset="utf-8">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/css/adminlte.min.css">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

  <script type="text/javascript" charset="utf-8">
    // Wait for device API libraries to load
    document.addEventListener("deviceready", onDeviceReady, false);
    
    // device APIs are available
    function onDeviceReady() {
        console.log("Device is ready now!");
        // Now safe to use device APIs
        let serviceType = "ssdp:all";
        let success = function(devices) {
          console.log(devices);
        }
    
        let failure = function() {
            alert("Error calling Service Discovery Plugin");
        }

        serviceDiscovery.getNetworkServices(serviceType, true, success, failure);
    }
  </script>

    <!-- Bootstrap 4 -->
    <script src="node_modules/admin-lte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- AdminLTE App -->
    <script src="node_modules/admin-lte/dist/js/adminlte.min.js"></script>

</head>

<body>
  <div class="container">
      <h1>Remote Control App</h1>
      {{> connectESP }}

      <!-- Start Driving Mode Card -->
      <div class="card">
          <div class="card-header">
              <h4 class="mb-1">Driving Mode</h4>
          </div>
          <div class="card-body table-responsive pad">
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-secondary active">
                  <input type="radio" name="options" id="option1" autocomplete="off" checked> Manual
                </label>
                <label class="btn btn-secondary">
                  <input type="radio" name="options" id="option2" autocomplete="off"> Auto
                </label>
              </div>
          </div>
      </div>
      <!-- End Driving Mode Card -->

      <!-- Start Action Button For Auto Mode -->
      <div class="card" id="autoBtns">
          <div class="card-header">
              <h4>Action Buttons</h4>
          </div>
          <div class="card-body">
              <a class="btn btn-app">
                  <i class="fas fa-play"></i> Play
              </a>
              <a class="btn btn-app">
                  <i class="fas fa-pause"></i> Pause
              </a>
          </div>
      </div>
      <!-- End Action Button For Auto Mode -->

      {{> arrows }}
      
  </div>

  <!-- Handler Functions for Arrows  -->
  <script type="text/javascript">
      function upArrowDown(btn) {
          // Send GET request to /forward
          btn.style.backgroundColor = "green";
      }

      function leftArrowDown(btn) {
          // Send GET request to /left
          btn.style.backgroundColor = "green";
      }

      function downArrowDown(btn) {
          // Send GET request to /backward
          btn.style.backgroundColor = "green";
      }

      function rightArrowDown(btn) {
          // Send GET request to /right
          btn.style.backgroundColor = "green";
      }

      function ArrowUp(btn) {
          // Stop the car
          btn.style.backgroundColor = "#ccc";
      }

  </script>

  <!-- jQuery -->
  <script src="/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- AdminLTE App -->
  <script src="/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="/js/demo.js"></script>
</body>

<template name="connectESP">
  <button class="btn btn-app btn-primary" id="connectESP">Connect ESP</button>
</template>

<template name="arrows">
    <div class="arrow-key-container">
        <div class="arrow-key up" data-key="38" onmousedown="upArrowDown(this)" onmouseup="ArrowUp(this)"></div><br>
        <div class="arrow-key left" data-key="37" onmousedown="leftArrowDown(this)" onmouseup="ArrowUp(this)"></div>
        <div class="arrow-key down" data-key="40" onmousedown="downArrowDown(this)" onmouseup="ArrowUp(this)"></div>
        <div class="arrow-key right" data-key="39" onmousedown="rightArrowDown(this)" onmouseup="ArrowUp(this)"></div>
    </div>
</template>







